{"remainingRequest":"D:\\Git Projects\\Standar Portal\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\Git Projects\\Standar Portal\\node_modules\\ngx-bootstrap\\dropdown\\bs-dropdown.directive.js","dependencies":[{"path":"D:\\Git Projects\\Standar Portal\\node_modules\\ngx-bootstrap\\dropdown\\bs-dropdown.directive.js","mtime":499162500000},{"path":"D:\\Git Projects\\Standar Portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624878985141},{"path":"D:\\Git Projects\\Standar Portal\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["import { Directive, ElementRef, Input, Output, Renderer2, ViewContainerRef } from '@angular/core';\nimport { filter } from 'rxjs/operators';\nimport { ComponentLoaderFactory } from '../component-loader/index';\nimport { BsDropdownConfig } from './bs-dropdown.config';\nimport { BsDropdownContainerComponent } from './bs-dropdown-container.component';\nimport { BsDropdownState } from './bs-dropdown.state';\nimport { isBs3 } from '../utils/theme-provider';\nvar BsDropdownDirective = /** @class */ /*@__PURE__*/ (function () {\n    function BsDropdownDirective(_elementRef, _renderer, _viewContainerRef, _cis, _config, _state) {\n        this._elementRef = _elementRef;\n        this._renderer = _renderer;\n        this._viewContainerRef = _viewContainerRef;\n        this._cis = _cis;\n        this._config = _config;\n        this._state = _state;\n        // todo: move to component loader\n        this._isInlineOpen = false;\n        this._subscriptions = [];\n        this._isInited = false;\n        // set initial dropdown state from config\n        this._state.autoClose = this._config.autoClose;\n        // create dropdown component loader\n        this._dropdown = this._cis\n            .createLoader(this._elementRef, this._viewContainerRef, this._renderer)\n            .provide({ provide: BsDropdownState, useValue: this._state });\n        this.onShown = this._dropdown.onShown;\n        this.onHidden = this._dropdown.onHidden;\n        this.isOpenChange = this._state.isOpenChange;\n    }\n    Object.defineProperty(BsDropdownDirective.prototype, \"autoClose\", {\n        get: function () {\n            return this._state.autoClose;\n        },\n        set: /**\n           * Indicates that dropdown will be closed on item or document click,\n           * and after pressing ESC\n           */ function (value) {\n            this._state.autoClose = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BsDropdownDirective.prototype, \"isDisabled\", {\n        get: function () {\n            return this._isDisabled;\n        },\n        set: /**\n           * Disables dropdown toggle and hides dropdown menu if opened\n           */ function (value) {\n            this._isDisabled = value;\n            this._state.isDisabledChange.emit(value);\n            if (value) {\n                this.hide();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BsDropdownDirective.prototype, \"isOpen\", {\n        get: /**\n           * Returns whether or not the popover is currently being shown\n           */ function () {\n            if (this._showInline) {\n                return this._isInlineOpen;\n            }\n            return this._dropdown.isShown;\n        },\n        set: function (value) {\n            if (value) {\n                this.show();\n            }\n            else {\n                this.hide();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BsDropdownDirective.prototype, \"isBs4\", {\n        get: function () {\n            return !isBs3();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BsDropdownDirective.prototype, \"_showInline\", {\n        get: function () {\n            return !this.container;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BsDropdownDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        // fix: seems there are an issue with `routerLinkActive`\n        // which result in duplicated call ngOnInit without call to ngOnDestroy\n        // read more: https://github.com/valor-software/ngx-bootstrap/issues/1885\n        if (this._isInited) {\n            return;\n        }\n        this._isInited = true;\n        // attach DOM listeners\n        this._dropdown.listen({\n            // because of dropdown inline mode\n            outsideClick: false,\n            triggers: this.triggers,\n            show: function () { return _this.show(); }\n        });\n        // toggle visibility on toggle element click\n        this._subscriptions.push(this._state.toggleClick.subscribe(function (value) { return _this.toggle(value); }));\n        // hide dropdown if set disabled while opened\n        this._subscriptions.push(this._state.isDisabledChange\n            .pipe(filter(function (value) { return value; }))\n            .subscribe(function (value) { return _this.hide(); }));\n    };\n    /**\n     * Opens an element’s popover. This is considered a “manual” triggering of\n     * the popover.\n     */\n    /**\n       * Opens an element’s popover. This is considered a “manual” triggering of\n       * the popover.\n       */\n    BsDropdownDirective.prototype.show = /**\n       * Opens an element’s popover. This is considered a “manual” triggering of\n       * the popover.\n       */\n        function () {\n            var _this = this;\n            if (this.isOpen || this.isDisabled) {\n                return;\n            }\n            if (this._showInline) {\n                if (!this._inlinedMenu) {\n                    this._state.dropdownMenu.then(function (dropdownMenu) {\n                        _this._dropdown.attachInline(dropdownMenu.viewContainer, dropdownMenu.templateRef);\n                        _this._inlinedMenu = _this._dropdown._inlineViewRef;\n                        _this.addBs4Polyfills();\n                    })\n                        .catch();\n                }\n                this.addBs4Polyfills();\n                this._isInlineOpen = true;\n                this.onShown.emit(true);\n                this._state.isOpenChange.emit(true);\n                return;\n            }\n            this._state.dropdownMenu.then(function (dropdownMenu) {\n                // check direction in which dropdown should be opened\n                var _dropup = _this.dropup ||\n                    (typeof _this.dropup !== 'undefined' && _this.dropup);\n                _this._state.direction = _dropup ? 'up' : 'down';\n                var _placement = _this.placement || (_dropup ? 'top left' : 'bottom left');\n                // show dropdown\n                // show dropdown\n                _this._dropdown\n                    .attach(BsDropdownContainerComponent)\n                    .to(_this.container)\n                    .position({ attachment: _placement })\n                    .show({\n                    content: dropdownMenu.templateRef,\n                    placement: _placement\n                });\n                _this._state.isOpenChange.emit(true);\n            })\n                .catch();\n        };\n    /**\n     * Closes an element’s popover. This is considered a “manual” triggering of\n     * the popover.\n     */\n    /**\n       * Closes an element’s popover. This is considered a “manual” triggering of\n       * the popover.\n       */\n    BsDropdownDirective.prototype.hide = /**\n       * Closes an element’s popover. This is considered a “manual” triggering of\n       * the popover.\n       */\n        function () {\n            if (!this.isOpen) {\n                return;\n            }\n            if (this._showInline) {\n                this.removeShowClass();\n                this.removeDropupStyles();\n                this._isInlineOpen = false;\n                this.onHidden.emit(true);\n            }\n            else {\n                this._dropdown.hide();\n            }\n            this._state.isOpenChange.emit(false);\n        };\n    /**\n     * Toggles an element’s popover. This is considered a “manual” triggering of\n     * the popover. With parameter <code>true</code> allows toggling, with parameter <code>false</code>\n     * only hides opened dropdown. Parameter usage will be removed in ngx-bootstrap v3\n     */\n    /**\n       * Toggles an element’s popover. This is considered a “manual” triggering of\n       * the popover. With parameter <code>true</code> allows toggling, with parameter <code>false</code>\n       * only hides opened dropdown. Parameter usage will be removed in ngx-bootstrap v3\n       */\n    BsDropdownDirective.prototype.toggle = /**\n       * Toggles an element’s popover. This is considered a “manual” triggering of\n       * the popover. With parameter <code>true</code> allows toggling, with parameter <code>false</code>\n       * only hides opened dropdown. Parameter usage will be removed in ngx-bootstrap v3\n       */\n        function (value) {\n            if (this.isOpen || !value) {\n                return this.hide();\n            }\n            return this.show();\n        };\n    BsDropdownDirective.prototype.ngOnDestroy = function () {\n        // clean up subscriptions and destroy dropdown\n        for (var _i = 0, _a = this._subscriptions; _i < _a.length; _i++) {\n            var sub = _a[_i];\n            sub.unsubscribe();\n        }\n        this._dropdown.dispose();\n    };\n    BsDropdownDirective.prototype.addBs4Polyfills = function () {\n        if (!isBs3()) {\n            this.addShowClass();\n            this.checkRightAlignment();\n            this.addDropupStyles();\n        }\n    };\n    BsDropdownDirective.prototype.addShowClass = function () {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            this._renderer.addClass(this._inlinedMenu.rootNodes[0], 'show');\n        }\n    };\n    BsDropdownDirective.prototype.removeShowClass = function () {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            this._renderer.removeClass(this._inlinedMenu.rootNodes[0], 'show');\n        }\n    };\n    BsDropdownDirective.prototype.checkRightAlignment = function () {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            var isRightAligned = this._inlinedMenu.rootNodes[0].classList.contains('dropdown-menu-right');\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'left', isRightAligned ? 'auto' : '0');\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'right', isRightAligned ? '0' : 'auto');\n        }\n    };\n    BsDropdownDirective.prototype.addDropupStyles = function () {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            // a little hack to not break support of bootstrap 4 beta\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'top', this.dropup ? 'auto' : '100%');\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'transform', this.dropup ? 'translateY(-101%)' : 'translateY(0)');\n        }\n    };\n    BsDropdownDirective.prototype.removeDropupStyles = function () {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'top');\n            this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'transform');\n        }\n    };\n    return BsDropdownDirective;\n}());\nexport { BsDropdownDirective };\n//# sourceMappingURL=bs-dropdown.directive.js.map\n",null]}